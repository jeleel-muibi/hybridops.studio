# infra/env

Central environment artifacts for on-prem and cloud infrastructure workflows.  
All files in this directory are treated as sensitive and must not be committed.

## Proxmox (on-prem)

- **Proxmox env:** [.env.proxmox](./.env.proxmox)  
  - Format: shell env (`PROXMOX_*`)  
  - Generated by: `control/tools/provision/init/init-proxmox-env.sh`  
  - Used by:
    - Packer Proxmox builds (`infra/packer-multi-os`)
    - On-prem Terraform/Terragrunt stacks that target Proxmox
  - Contents:
    - Proxmox API URL, token ID and secret
    - Node name and storage pools (VM, ISO, cloud-init)
    - Network bridge and HTTP helper settings

## Azure

- **Azure tfvars:** [azure.auto.tfvars.json](./azure.auto.tfvars.json)  
  - Format: Terraform `*.auto.tfvars.json`  
  - Generated by: `control/tools/provision/init/init-azure-env.sh`  
  - Used by:
    - Azure Terraform/Terragrunt stacks under `infra/terraform/live-v1/azure`  
  - Contents:
    - Subscription and tenant IDs
    - Service principal client ID and secret
    - Default Azure region

## GCP

- **GCP tfvars:** [gcp.auto.tfvars.json](./gcp.auto.tfvars.json)  
  - Format: Terraform `*.auto.tfvars.json`  
  - Generated by: `control/tools/provision/init/init-gcp-env.sh`  
  - Used by:
    - GCP Terraform/Terragrunt stacks under `infra/terraform/live-v1/gcp`  
  - Contents:
    - Project ID and region
    - Path to GCP service account credentials

## Git hygiene

- These files are generated artifacts and may contain secrets.
- Ensure `infra/env/` (or each file) is excluded in `.gitignore`.
- To refresh values, re-run the corresponding init script rather than editing files in place.
